{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/install-jdk-on-centos/",
    "result": {"data":{"cur":{"id":"cccb5f3b-a6cf-5d87-9541-457da6aa9339","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>오늘은 Centos7에서 Java 개발환경을 구성하는 첫번째 단추인 Java(JDK)를 설치 후에 환경변수까지 설정하는 것을 적어보려고 한다.</p>\n<h2 id=\"운영체제-환경\" style=\"position:relative;\"><a href=\"#%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%ED%99%98%EA%B2%BD\" aria-label=\"운영체제 환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>운영체제 환경</h2>\n<h3 id=\"리눅스\" style=\"position:relative;\"><a href=\"#%EB%A6%AC%EB%88%85%EC%8A%A4\" aria-label=\"리눅스 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>리눅스</h3>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">1. 리눅스 배포반 버전\n2. 리눅스 커널 버전</code></pre></div>\n<ol>\n<li>리눅스 배포판 버전</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ grep . /etc/*-release\n/etc/centos-release:CentOS Linux release 7.5.1804 (Core)\n/etc/os-release:NAME=&quot;CentOS Linux&quot;\n/etc/os-release:VERSION=&quot;7 (Core)&quot;\n/etc/os-release:ID=&quot;centos&quot;\n/etc/os-release:ID_LIKE=&quot;rhel fedora&quot;\n/etc/os-release:VERSION_ID=&quot;7&quot;\n/etc/os-release:PRETTY_NAME=&quot;CentOS Linux 7 (Core)&quot;\n/etc/os-release:ANSI_COLOR=&quot;0;31&quot;\n/etc/os-release:CPE_NAME=&quot;cpe:/o:centos:centos:7&quot;\n/etc/os-release:HOME_URL=&quot;https://www.centos.org/&quot;\n/etc/os-release:BUG_REPORT_URL=&quot;https://bugs.centos.org/&quot;\n/etc/os-release:CENTOS_MANTISBT_PROJECT=&quot;CentOS-7&quot;\n/etc/os-release:CENTOS_MANTISBT_PROJECT_VERSION=&quot;7&quot;\n/etc/os-release:REDHAT_SUPPORT_PRODUCT=&quot;centos&quot;\n/etc/os-release:REDHAT_SUPPORT_PRODUCT_VERSION=&quot;7&quot;\n/etc/redhat-release:CentOS Linux release 7.5.1804 (Core)\n/etc/system-release:CentOS Linux release 7.5.1804 (Core)</code></pre></div>\n<ol>\n<li>리눅스 커널 버전</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ yum list installed | grep ^kernel\nkernel.x86_64                          3.10.0-327.18.2.el7            @updates\nkernel.x86_64                          3.10.0-327.28.2.el7            @updates\nkernel.x86_64                          3.10.0-862.3.2.el7             @updates\nkernel-headers.x86_64                  3.10.0-862.3.2.el7             @updates\nkernel-tools.x86_64                    3.10.0-862.3.2.el7             @updates\nkernel-tools-libs.x86_64               3.10.0-862.3.2.el7             @updates</code></pre></div>\n<p>커널 버전과 배포판 버전은 위의 코드와 같이 CentOS-7.5버전과 3.10.0 커널을 사용한다.</p>\n<h2 id=\"jdk-설치하기\" style=\"position:relative;\"><a href=\"#jdk-%EC%84%A4%EC%B9%98%ED%95%98%EA%B8%B0\" aria-label=\"jdk 설치하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK 설치하기</h2>\n<p>초기에는 원래 JDK9을 설치하려 했으나, 나온지 얼마 안되서 Java10 <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>으로 통합이 되었는지 현재 JDK9는 <em>End of support</em> <sup id=\"fnref-2\"><a href=\"#fn-2\" class=\"footnote-ref\">2</a></sup>상태이다.(아무래도 Java10으로 통합이 된 것같다.) 따라서 Java버전은 Java10 <sup id=\"fnref-1\"><a href=\"#fn-1\" class=\"footnote-ref\">1</a></sup>으로 설치를 진행한다.</p>\n<p>방법은 소스를 다운로드 받아서 설치하는 방법과\nRPM 다운로드를 통하여 yum으로 설치하는 방법이 있다.</p>\n<p>여기서는 두 방법 모두 다뤄보기로 한다.</p>\n<h3 id=\"jdk10-install-using-downloaded-jdk10-binary-file\" style=\"position:relative;\"><a href=\"#jdk10-install-using-downloaded-jdk10-binary-file\" aria-label=\"jdk10 install using downloaded jdk10 binary file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK10 Install Using Downloaded JDK10 Binary file</h3>\n<hr>\n<ol>\n<li>STEP 1 - JDK10 소스 다운로드하기</li>\n<li>STEP 2 - JDK10 명령어 등록</li>\n<li>STEP 3 - JDK10 설치 확인</li>\n</ol>\n<h3 id=\"jdk10-install-using-downloaded-jdk10-rpm-file\" style=\"position:relative;\"><a href=\"#jdk10-install-using-downloaded-jdk10-rpm-file\" aria-label=\"jdk10 install using downloaded jdk10 rpm file permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>JDK10 Install Using Downloaded JDK10 RPM file</h3>\n<hr>\n<ol>\n<li>STEP 1 - JDK10 RPM 다운로드하기</li>\n<li>STEP 2 - JDK10 설치 하기</li>\n</ol>\n<hr>\n<h4 id=\"11-step-1---jdk10-소스-다운로드하기\" style=\"position:relative;\"><a href=\"#11-step-1---jdk10-%EC%86%8C%EC%8A%A4-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C%ED%95%98%EA%B8%B0\" aria-label=\"11 step 1   jdk10 소스 다운로드하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.1 STEP 1 - JDK10 소스 다운로드하기</h4>\n<p>먼저 wget을 이용하기 때문에 wget이 설치되어 있는지부터 확인한다.\n(Minimal버전 일 경우에도 wget은 설치되어 있는 것으로 알고 있다.)</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ yum list installed | grep wget\nwget.x86_64                            1.14-15.el7_4.1                @base</code></pre></div>\n<p><span class=\"evidence\">yum list installed</span>\n해당 명령어로 설치된 명령어를 확인 할 수가 있는데\n<span class=\"evidence\">| grep wget</span>\n파이프 연산 <sup id=\"fnref-3\"><a href=\"#fn-3\" class=\"footnote-ref\">3</a></sup>과 grep을 통해 wget이 설치되었는지 확인 할 수가 있다. 당연하게도 wget자리에 다른 패키지로 입력하면 다른 패키지도 확인 할 수가 있다.</p>\n<p>현재 JDK10의 Latest Version은 10.0.1이다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS local]$ sudo wget --no-cookies --no-check-certificate --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\n  http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.tar.gz</code></pre></div>\n<p>해당 명령어를 주어서 자바10 JDK 소스파일을 다운로드 받는다.\n나와 같은 경우에는 해당 소스를 <span class=\"evidence\">/usr/local/src</span>에 넣어놨는데 Java의 위치는 <span class=\"evidence\">/usr/local/java-* </span>으로 하고 싶기때문에 압축풀때 따로 해당 폴더에 풀리도록 옵션을 추가하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">tar zxf jdk-10.0.1_linux-x64_bin.tar.gz -C /usr/local</code></pre></div>\n<p>그 후에 jdk-10.0.1을 /usr/local/java로 사용하기 위해서 심볼릭링크 <sup id=\"fnref-4\"><a href=\"#fn-4\" class=\"footnote-ref\">4</a></sup>를 생성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">ln -s /usr/local/jdk-10.0.1 /usr/local/java</code></pre></div>\n<h4 id=\"12-step-2---jdk10-명령어-등록\" style=\"position:relative;\"><a href=\"#12-step-2---jdk10-%EB%AA%85%EB%A0%B9%EC%96%B4-%EB%93%B1%EB%A1%9D\" aria-label=\"12 step 2   jdk10 명령어 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.2 STEP 2 - JDK10 명령어 등록</h4>\n<p>압축풀기와 심볼릭링크 생성까지 마친 다음에는 이제는 명령어 등록하는 절차가 필요하다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">alternatives --install /usr/bin/java java /usr/local/bin/java 1\nalternatives --config java\n\nalternatives --install /usr/bin/jar jar /usr/local/java/bin/jar 1\nalternatives --install /usr/bin/javac javac /usr/local/java/bin/javac 1\n\nalternatives --set jar /usr/local/java/bin/jar\nalternatives --set javac /usr/local/java/bin/javac</code></pre></div>\n<p>alternatives명령어를 통해 java와 jar, javac 명령어를 등록한다.</p>\n<h4 id=\"13-step-3---jdk10-설치-확인\" style=\"position:relative;\"><a href=\"#13-step-3---jdk10-%EC%84%A4%EC%B9%98-%ED%99%95%EC%9D%B8\" aria-label=\"13 step 3   jdk10 설치 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1.3 STEP 3 - JDK10 설치 확인</h4>\n<p>STEP 1, 2를 끝낸 후라면 정상적인 경우에는</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS local]$ java -version java -version\njava 10 2018-04-17\nJava(TM) SE Runtime Environment 18.3 (build 10+46)\nJava HotSpot(TM) 64-Bit Server VM 18.3 (build 10+46, mixed mode)\n\n[azureuser@AzureCentOS local]$ javac -version\njavac 10.0.1</code></pre></div>\n<p>이런식으로 등록한 명령어에 대한 결과 값이 정상적으로 출력이 된다.</p>\n<hr>\n<h4 id=\"21-step-1---jdk10-rpm-다운로드하기\" style=\"position:relative;\"><a href=\"#21-step-1---jdk10-rpm-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C%ED%95%98%EA%B8%B0\" aria-label=\"21 step 1   jdk10 rpm 다운로드하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.1 STEP 1 - JDK10 RPM 다운로드하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS src]$ sudo wget --no-cookies --no-check-certificate --header &quot;Cookie: oraclelicense=accept-securebackup-cookie&quot; \\\n&gt; http://download.oracle.com/otn-pub/java/jdk/10.0.1+10/fb4372174a714e6b8c52526dc134031e/jdk-10.0.1_linux-x64_bin.rpm</code></pre></div>\n<p>1.1과 마찬가지로 wget을 이용하여, rpm을 다운로드 받는다.</p>\n<h4 id=\"22-step-2---jdk10-설치-하기\" style=\"position:relative;\"><a href=\"#22-step-2---jdk10-%EC%84%A4%EC%B9%98-%ED%95%98%EA%B8%B0\" aria-label=\"22 step 2   jdk10 설치 하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2.2 STEP 2 - JDK10 설치 하기</h4>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS src]$ sudo yum localinstall jdk-10.0.1_linux-x64_bin.rpm</code></pre></div>\n<p>그 후에 localinstall로 통하여 로컬로 다운로드 받아진 rpm 파일을 yum을 통해서 설치한다.</p>\n<p>그 후에 또 1.3과 마찬가지로 버전확인을 한다.</p>\n<p>만일, JDK가 여러가지가 설치 된 경우에 새로 받은 JDK를 선택해야되는 상황이라면,</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">sudo alternatives --config java\nThere are 4 programs which provide &#39;java&#39;.\n\n  Selection    Command\n-----------------------------------------------\n   1           /usr/java/jdk1.8.0_162/jre/bin/java\n   2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.161-0.b14.el7_4.x86_64/jre/bin/java)\n   3           java-1.7.0-openjdk.x86_64 (/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.171-2.6.13.0.el7_4.x86_64/jre/bin/java)\n*+ 4           /usr/java/jdk-9.0.4/bin/java\n\nEnter to keep the current selection[+], or type selection number:</code></pre></div>\n<p><span class=\"evidence\">sudo alternatives —config java<span>과 같은 옵션으로 JDK10을 설치 할 수가 있다.</p>\n<p>마지막으로 환경변수 등록이 필요한데</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS src]$ vi /etc/profile\n\nexport JAVA_HOME=/usr/local/java\nexport PATH=$PATH:/usr/local/java/bin:/bin:/sbin\n\n(편집 후 저장 후에)\n[azureuser@AzureCentOS src]$ sudo source /etc/profile</code></pre></div>\n<p>이런식으로 /etc/profile에 환경변수를 등록하여 사용하면 된다. 위의 내용을 적고, <span class=\"evidence\">sudo source /etc/profile</span> 명령어를 통하여 변경사항을 등록한다.</p>\n<p>추가로 <strong>CLASSPATH</strong>라는 환경변수도 등록이 가능한데, 사용할 클래스들의 위치를 가상머신에게 알려주는 역할을 한다.\n만약 클래스패스 변수가 없다면, 각각 클래스 패스를 지정해야된다. 이 뜻은 클래스가 여러 경로에 분산되어 있을 때 일일히 클래스패스를 명시해야되기 때문에 자주 쓰는 라이브러리 또는 api같은 경우에는 등록을 하는 것이 좋다.</p>\n<p>따라서 자주 쓰는 라이브러리같은 경우에는 클래스 패스를 등록을 하는게 좋다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS src]$ vi /etc/profile\nexport CLASSPATH=$JAVA_HOME/jre/lib:$JAVA_HOME/lib/tools.jar</code></pre></div>\n<p>필자는 이와 같이 tools.jar과 jre/lib폴더를 추가하였다.</p>\n<h2 id=\"트러블-슈팅\" style=\"position:relative;\"><a href=\"#%ED%8A%B8%EB%9F%AC%EB%B8%94-%EC%8A%88%ED%8C%85\" aria-label=\"트러블 슈팅 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>트러블 슈팅</h2>\n<p>환경 변수를 등록할때를 보면 PATH 부분을 저장 후에 리눅스의 기본 모든 명령어들이 사용이 안되는 현상이 발생했다.</p>\n<p>그 이유는 etc/profile에 PATH를 등록할때 루트(/)의 bin과 sbin의 명령어의 PATH가 날라가서 충돌이 발생하는 현상이 발생한다.</p>\n<p>따라서 PATH의 환경변수를 사용할 때는\n<span class=\"evidence\">export PATH=$PATH:/usr/local/java/bin:/bin:/sbin</span>\n부분 중에 <span class=\"evidence\">:/bin:/sbin</span>을 추가적으로 PATH에 등록하면 해결이 된다.</p>\n<h2 id=\"마치면서\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"마치면서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치면서</h2>\n<p>추가로 필요하다면 JRE도 위의 방식과 동일한 방법으로 설치하면 된다.</p>\n<p>다음 글은 Tomcat 설치와 환경변수 등록 및 Nginx Reverse Proxy설정까지 하는 것으로 포스팅을 해보겠다.</p>\n<div class=\"footnotes\">\n<hr>\n<ol>\n<li id=\"fn-1\"><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html\">http://www.oracle.com/technetwork/java/javase/downloads/jdk10-downloads-4416644.html</a><a href=\"#fnref-1\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-2\"><a href=\"http://www.oracle.com/technetwork/java/javase/downloads/jdk9-downloads-3848520.html\">http://www.oracle.com/technetwork/java/javase/downloads/jdk9-downloads-3848520.html</a><a href=\"#fnref-2\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-3\"><a href=\"http://jdm.kr/blog/74\">http://jdm.kr/blog/74</a><a href=\"#fnref-3\" class=\"footnote-backref\">↩</a></li>\n<li id=\"fn-4\"><a href=\"http://www.myservlab.com/64\">http://www.myservlab.com/64</a><a href=\"#fnref-4\" class=\"footnote-backref\">↩</a></li>\n</ol>\n</div>","excerpt":"개요 오늘은 Centos7에서 Java 개발환경을 구성하는 첫번째 단추인 Java(JDK)를 설치 후에 환경변수까지 설정하는 것을 적어보려고 한다. 운영체제 환경 리눅스 리눅스 배포판 버전 리눅스 커널 버전 커널 버전과 배포판 버전은 위의 코드와 같이 CentOS-7.5버전과 3.10.0 커널을 사용한다. JDK 설치하기 초기에는 원래 JDK9을 설치하려 했으나, 나온지 얼마 안되서 Java10 으로 통합이 되었는지 현재 JDK9는 End of support 상태이다.(아무래도 Java10으로 통합이 된 것같다.) 따라서 Java버전은 Java10 으로 설치를 진행한다. 방법은 소스를 다운로드 받아서 설치하는 방법과\nRPM 다운로드를 통하여 yum으로 설치하는 방법이 있다. 여기서는 두 방법 모두 다뤄보기로 한다. JDK10 Install Using Downloaded JDK10 Binary file STEP 1 - JDK10 소스 다운로드하기 STEP 2 - JDK10 명령어 등…","frontmatter":{"date":"July 03, 2018","title":"리눅스(CentOS7)에서 자바 개발환경 구축하기 - JDK10 설치하기","categories":"인프라","author":"개발한입","emoji":"🧢"},"fields":{"slug":"/install-jdk-on-centos/"}},"next":null,"prev":{"id":"c604142e-db9f-592d-b1da-f5a71022fd39","html":"<h2 id=\"개요\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개요</h2>\n<p>이번 글은 Apache Tomcat 설치하고 Index.jsp 페이지인 고양이가 뛰어다니는 화면을 웹브라우저에 출력하는 것을 목표로 하겠다.</p>\n<h2 id=\"apache-tomcat\" style=\"position:relative;\"><a href=\"#apache-tomcat\" aria-label=\"apache tomcat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Apache Tomcat</h2>\n<p>이전 글을 따라서 진행하는 사람이라면, Latest Version인 JDK10을 설치했을텐데 마찬가지로 톰캣 또한, Latest Version인 9.0.10 버전으로 설치해 보도록 하겠다.</p>\n<hr>\n<ul>\n<li>STEP 1 - Apache Tomcat 다운로드 및 설치</li>\n<li>STEP 2 - Apache Tomcat 환경변수 등록 및 추가 설정\n<ul>\n<li>STEP 2.1 - Apache Tomcat 환경변수 등록</li>\n<li>STEP 2.2 - Apache Tomcat 전용 리눅스 계정 생성 후 그 계정으로 Tomcat 실행하기</li>\n<li>STEP 2.3 - Apache Tomcat 서비스 등록 및 시작데몬 등록</li>\n</ul>\n</li>\n<li>STEP 3 - Apache Tomcat CentOS7 firewalld 톰캣 포트 인바운드 룰 적용 및 index.jsp 페이지 확인\n<ul>\n<li>STEP 3.1 - CentOS7 firewalld 톰캣 포트 인바운드 룰 적용</li>\n<li>STEP 3.2 - Hello Tomcat!!</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"step-1---apache-tomcat-다운로드-및-설치\" style=\"position:relative;\"><a href=\"#step-1---apache-tomcat-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EC%84%A4%EC%B9%98\" aria-label=\"step 1   apache tomcat 다운로드 및 설치 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 1 - Apache Tomcat 다운로드 및 설치</h3>\n<p>이전 글과 마찬가지로 wget을 사용하여, Binary File을 다운로드 받고, 압축을 풀어서 설정을 해보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS src]$ sudo wget http://apache.mirror.cdnetworks.com/tomcat/tomcat-9/v9.0.10/bin/apache-tomcat-9.0.10.tar.gz\n[azureuser@AzureCentOS src]$ sudo tar -xvf apache-tomcat-9.0.10.tar.gz\n[azureuser@AzureCentOS src]$ mv apache-tomcat-9.0.10 /usr/local/\n[azureuser@AzureCentOS src]$ cd /usr/local/\n[azureuser@AzureCentOS local]$ ln -s apache-tomcat-9.0.10 tomcat</code></pre></div>\n<p>이런식으로 압축을 푼 후에 심볼릭 링크를 생성하는 것으로 Tomcat의 설치는 어느정도 일단락된다.</p>\n<h3 id=\"step-2---apache-tomcat-환경변수-등록-및-추가-설정\" style=\"position:relative;\"><a href=\"#step-2---apache-tomcat-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%EC%B6%94%EA%B0%80-%EC%84%A4%EC%A0%95\" aria-label=\"step 2   apache tomcat 환경변수 등록 및 추가 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 2 - Apache Tomcat 환경변수 등록 및 추가 설정</h3>\n<hr>\n<h4 id=\"step-21---apache-tomcat-환경변수-등록-및-방화벽-설정\" style=\"position:relative;\"><a href=\"#step-21---apache-tomcat-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%EB%B0%A9%ED%99%94%EB%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"step 21   apache tomcat 환경변수 등록 및 방화벽 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 2.1 - Apache Tomcat 환경변수 등록 및 방화벽 설정</h4>\n<p>역시나 JDK 설치때와 마찬가지로 환경변수를 등록해준다.\n이전에 수정하였던 <strong>/etc/profile</strong> 파일을 수정을 할 것이며, 등록될 환경변수는 <em>CATALINA_HOME</em>와<em>CLASSPATH</em>가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">[azureuser@AzureCentOS src]$ sudo vi /etc/profile\n\nCATALINA_HOME=/usr/local/tomcat \nJAVA_HOME=/usr/local/java\nPATH=$PATH:$JAVA_HOME/bin:/bin:/sbin\nCLASSPATH=$JAVA_HOME/jre/lib:$JAVA_HOME/lib/tools.jar:$CATALINA_HOME/lib-jsp-api.jar:$CATALINA_HOME/lib/servlet-api.jar\nexport JAVA_HOME CLASSPATH PATH CATALINA_HOME</code></pre></div>\n<p>여기서<em>CATALINA_HOME=/usr/local/tomcat</em>와<em>CATALINA_HOME/lib-jsp-api.jar:$CATALINA_HOME/lib/servlet-api.jar</em>가 이전의 환경변수에서 추가되는 부분이다.</p>\n<p>추가적인 작업을 하기 전에 톰캣이 동작하는지부터 확인해보자.</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">[azureuser@AzureCentOS src]$ cd /usr/local/tomcat/bin\n\n(Tomcat 실행)\n[azureuser@AzureCentOS bin]$ ./startup.sh\nUsing CATALINA_BASE:   /usr/local/tomcat\nUsing CATALINA_HOME:   /usr/local/tomcat\nUsing CATALINA_TMPDIR: /usr/local/tomcat/temp\nUsing JRE_HOME:        /usr/local/java\nUsing CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\nTomcat started.\n\n(Tomcat 종료)\n[azureuser@AzureCentOS bin]$ ./shutdown.sh\nUsing CATALINA_BASE:   /usr/local/tomcat\nUsing CATALINA_HOME:   /usr/local/tomcat\nUsing CATALINA_TMPDIR: /usr/local/tomcat/temp\nUsing JRE_HOME:        /usr/local/java\nUsing CLASSPATH:       /usr/local/tomcat/bin/bootstrap.jar:/usr/local/tomcat/bin/tomcat-juli.jar\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED</code></pre></div>\n<p>이렇게 되면, 톰캣이 동작을 하게된다.</p>\n<hr>\n<h4 id=\"step-22---tomcat-전용-리눅스-계정-생성-후-그-계정으로-tomcat-실행하기\" style=\"position:relative;\"><a href=\"#step-22---tomcat-%EC%A0%84%EC%9A%A9-%EB%A6%AC%EB%88%85%EC%8A%A4-%EA%B3%84%EC%A0%95-%EC%83%9D%EC%84%B1-%ED%9B%84-%EA%B7%B8-%EA%B3%84%EC%A0%95%EC%9C%BC%EB%A1%9C-tomcat-%EC%8B%A4%ED%96%89%ED%95%98%EA%B8%B0\" aria-label=\"step 22   tomcat 전용 리눅스 계정 생성 후 그 계정으로 tomcat 실행하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 2.2 - Tomcat 전용 리눅스 계정 생성 후 그 계정으로 Tomcat 실행하기</h4>\n<p>지금까지 설치한 것으로는 Tomcat이 root 계정으로 돌아가게 된다.\n만일 Tomcat을 root계정이 아니라 다른 계정으로 돌리기 위해서는 Tomcat을 돌리려는 계정의 홈 디렉토리에 설치되어 있거나, Tomcat이 설치된 디렉토리와 하위 디렉토리 전부를 톰캣을 실행하려는 계정 소유로 만들어야한다.</p>\n<p>왜? Tomcat을 돌리는 계정이 따로 필요한가에 대해서는 밑에 가장 큰 세가지 문제점을 적어보겠다.</p>\n<ol>\n<li>업로드시 폴더에 퍼미션이 있어도, 영향을 받지 않고 프로그래밍만 되어 있으면 업로드가 된다. (접근권한이 root이기 때문)</li>\n<li>업로드 폴더 퍼미션에 실행권한을 빼도 파일업로드시 파일업로드 취약점 공격시 스크립트를 실행 할 수가 있다. (아주 간단히 예를 들면 끔찍하지만 rm -rf /가 있다.)</li>\n<li>로컬유저가 콘솔에서 jsp 파일 작성 후에 인터넷으로 접속하여 실행할 수가 있다.</li>\n</ol>\n<p>이러한 치명적인 문제점때문에 대안책은 root가 아닌 다른 일반 사용자 계정으로 돌리는 것이다.</p>\n<p>일단, 글쓴이는 Tomcat을 돌릴 계정으로 쉘 로그인 권한이 없는 계정인 Tomcat이라는 계정을 생성해보도록 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ sudo useradd -s /bin/false tomcat (사용자 생성)\n[azureuser@AzureCentOS ~]$ sudo grep tomcat /etc/passwd\ntomcat:x:1001:1001::/opt/tomcat:/bin/false (계정생성 완료!)\n\n[azureuser@AzureCentOS ~]$ sudo groupadd -r tomcat (사용자 그룹 생성)\n[azureuser@AzureCentOS ~]$ sudo gpasswd -a tomcat tomcat (사용자 그룹에 사용자 등록)\n[azureuser@AzureCentOS init.d]$ sudo grep tomcat /etc/gshadow (그룹 등록 완료!!)\ntomcat:!::tomcat</code></pre></div>\n<p>참고로 리눅스에서 셀 로그인 권한이 없는 계정을 만드는 방법은 2가지가 있는데 하나는 nologin 옵션을 주는 것과 하나는 /bin/false를 주는 것이다.</p>\n<p>두개의 차이점은 <a href=\"http://faq.hostway.co.kr/?mid=Linux_ETC&#x26;page=2&#x26;document_srl=1624\">nologin vs /bin/false</a>로 대체하겠다.</p>\n<p>생성 후에 우리가 설치한 tomcat 디렉토리와 그 하위 디렉토리의 모든 권한을 tomcat으로 변경한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ cd /usr/local/\n[azureuser@AzureCentOS local]$ chown -R tomcat:tomcat tomcat</code></pre></div>\n<hr>\n<h4 id=\"step-23---apache-tomcat-서비스-등록-및-시작데몬-등록\" style=\"position:relative;\"><a href=\"#step-23---apache-tomcat-%EC%84%9C%EB%B9%84%EC%8A%A4-%EB%93%B1%EB%A1%9D-%EB%B0%8F-%EC%8B%9C%EC%9E%91%EB%8D%B0%EB%AA%AC-%EB%93%B1%EB%A1%9D\" aria-label=\"step 23   apache tomcat 서비스 등록 및 시작데몬 등록 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 2.3 - Apache Tomcat 서비스 등록 및 시작데몬 등록</h4>\n<p>역시 자바는 세팅이 반이다.\n힘들지만 이제 거의 다 왔다!</p>\n<p>먼저 아무 위치에서나 서비스 등록을 하기 위한 쉘을 만든다. 편의상 파일이름은 tomcat으로 하겠다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ vi tomcat\n\n(스크립트 내용)\n#!/bin/bash\n   #Startup script for Tomcat\n   #\n   # chkconfig: 345 50 50\n   # description: apache tomcat 9.x\n   # processname: tomcat\n   # directory : CATALINA_HOME=/usr/local/tomcat\n  \n  JAVA_HOME=/usr/local/java\n  CATALINA_HOME=/usr/local/tomcat\n  CLASSPATH=$JAVA_HOME/jre/lib:$JAVA_HOME/lib/tools.jar:$CATALINA_HOME/lib-jsp    -api.jar:$CATALINA_HOME/lib/servlet-api.jar\n  PATH=$PATH:$JAVA_HOME/bin:$CATALINA_HOME/bin:bin:/sbin\n  export JAVA_HOME CLASSPATH PATH CATALINA_HOME\n# See how we were called.\n  case &quot;$1&quot; in\n    start)\n      echo -n &quot;Starting tomcat: &quot;\n      $CATALINA_HOME/bin/startup.sh\n      ;;\n    stop)\n      echo -n &quot;Shutting down tomcat: &quot;\n       $CATALINA_HOME/bin/shutdown.sh\n       ;;\n    restart)\n      echo &quot;Restarting tomcat : &quot;\n      $CATALINA_HOME/bin/shutdown.sh;\n      sleep 2\n      $CATALINA_HOME/bin/startup.sh\n      ;;\n      *)\n      echo &quot;Usage: $0 {start|stop|restart}&quot;\n      exit 1\n esac\n exit 0\n\n(저장 후)\n[azureuser@AzureCentOS ~]$ sudo chown -R tomcat:tomcat tomcat (톰캣 계정으로 실행권한 부여)\n[azureuser@AzureCentOS ~]$ sudo chmod 755 tomcat (쉘 스크립트 실행권한 부여)\n[azureuser@AzureCentOS ~]$ sudo cp -a tomcat /etc/rc.d/init.d/tomcat (시작 서비스 등록을 위한 디렉토리 변경)\n\n[azureuser@AzureCentOS ~]$ sudo chkconfig --add tomcat (runlevel 등록)\n[azureuser@AzureCentOS src]$ systemctl | grep tomcat\n  tomcat.service                                                                           \n  loaded active running   Apache Tomcat 9</code></pre></div>\n<p>이렇게 하면 시작데몬까지 등록을 완료하게 된다.</p>\n<h3 id=\"step-3---apache-tomcat-centos7-firewalld-인바운드-룰-적용-및-indexjsp-페이지-확인\" style=\"position:relative;\"><a href=\"#step-3---apache-tomcat-centos7-firewalld-%EC%9D%B8%EB%B0%94%EC%9A%B4%EB%93%9C-%EB%A3%B0-%EC%A0%81%EC%9A%A9-%EB%B0%8F-indexjsp-%ED%8E%98%EC%9D%B4%EC%A7%80-%ED%99%95%EC%9D%B8\" aria-label=\"step 3   apache tomcat centos7 firewalld 인바운드 룰 적용 및 indexjsp 페이지 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 3 - Apache Tomcat CentOS7 firewalld 인바운드 룰 적용 및 index.jsp 페이지 확인</h3>\n<hr>\n<h4 id=\"step-31---centos7-firewalld-톰캣-포트-인바운드-룰-적용\" style=\"position:relative;\"><a href=\"#step-31---centos7-firewalld-%ED%86%B0%EC%BA%A3-%ED%8F%AC%ED%8A%B8-%EC%9D%B8%EB%B0%94%EC%9A%B4%EB%93%9C-%EB%A3%B0-%EC%A0%81%EC%9A%A9\" aria-label=\"step 31   centos7 firewalld 톰캣 포트 인바운드 룰 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 3.1 - CentOS7 firewalld 톰캣 포트 인바운드 룰 적용</h4>\n<p>톰캣의 기본포트는 <strong>8080</strong>으로 만약에 접속이 안된다면, 인바운드 방화벽 설정이 되어있는지부터 확인해야된다.</p>\n<p>원래 iptables옵션으로 설정이 가능하나 RHEL7 이후 배포판(우리가 사용하는 centOS7도 포함)은 firewalld를 이용하는 방식이 사용되기 때문에 firewalld를 이용하여 허용하는 방법을 알아보기로 하겠다.</p>\n<p>만일, 우분투라면 UFW(Uncomplicated FireWall)를 사용하기 때문에 자신이 사용하는 운영체제의 방화벽 소프트웨어가 무엇인지부터 확인하는게 중요하다.</p>\n<p>먼저, firewalld가 동작하고 있는지 부터 확인한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ sudo firewall-cmd --state\nrunning</code></pre></div>\n<p>동작 중이라면, 방화벽을 잠시 끈 후에 8080 포트를 허용하기 위해서 설정 옵션을 작성한다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ sudo systemctl stop firewalld\n[azureuser@AzureCentOS ~]$ sudo firewall-cmd --permanent --zone=public --add-port=8080/tcp\n[azureuser@AzureCentOS ~]$ firewall-cmd --reload</code></pre></div>\n<p>해당 설정은 /etc/firewalld/zones/public.xml 에서 확인할 수가 있다.</p>\n<div class=\"gatsby-highlight\" data-language=\"console\"><pre class=\"language-console\"><code class=\"language-console\">[azureuser@AzureCentOS ~]$ vi /etc/firewalld/zones/public.xml\n\n&lt;zone&gt;\n  &lt;short&gt;Public&lt;/short&gt;\n  &lt;description&gt;For use in public areas. You do not trust the other computers on networks\n               to not harm your computer. Only selected incoming connections are accepted.&lt;/description&gt;\n  &lt;service name=&quot;dhcpv6-client&quot;&gt;&lt;/service&gt;\n  &lt;service name=&quot;ssh&quot;&gt;&lt;/service&gt;\n  &lt;port protocol=&quot;tcp&quot; port=&quot;8080&quot;&gt;&lt;/port&gt;\n&lt;/zone&gt;</code></pre></div>\n<p>자세한 내용은\n<a href=\"http://faq.hostway.co.kr/?mid=Linux_ETC&#x26;page=2&#x26;document_srl=1624\">Linux Firewall</a>에서 확인하면 된다.</p>\n<hr>\n<h4 id=\"step-32---hello-tomcat\" style=\"position:relative;\"><a href=\"#step-32---hello-tomcat\" aria-label=\"step 32   hello tomcat permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>STEP 3.2 - Hello Tomcat!!</h4>\n<p>지금까지의 과정을 마쳤으면, 이제 톰캣이 제대로 동작하는지 확인해야 될 차례이다.\nCentOS7이 설치된 PC의 아이피를 입력하거나, 그 PC 내부에서 웹브라우저를 킨 뒤에 확인할 수가 있다.</p>\n<p>전자의 경우에는 웹브라우저에 <strong>server-ip:8080</strong>을 입력하면 되고, 후자 같은 경우에는 <strong>127.0.0.1:8080</strong>을 입력하면 된다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 720px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.66666666666666%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAAC10lEQVQ4y23PWU8bZxTG8fnK/RzJRS8qVY26SDQkUVoKTUFgCrbBONgmbAEveBl7PB7P/vqdzeP9XzGRIlXtxU9H59E5OjrKcKjRarTotXs0H5t0211cyyUQAcIVSF8ihcR3/CxLk5Q0TkmnMxJPMPUmpNEU4Qkcx0ERvk9drXM/uOe2c8dj/xEncTJWbGWc2MH+ysaKnnMHw+wxGncYeCojabBcLlFgzf2kzl7rAwXthJJ+Rl49yRT6p5wPi5xrRc60wldFLc+5VuBiVKIwzHPQ2c/y6TpCMaIhhdwLrvIv6cdNbrxLbr1LPrkXXHtl+rMmkjFiM/pf/kqnq7bp9TpYUkf5PCyxs/8N5asX1KI829oPvNFesa29ymrO+Z2r6JSnRfXf5l9qK61y1fzITbOGKhoocuYzTm3MxGQgulipjrsw8Jcm3mKMPdNx5wbR2vuPBJEJFz5y5hEtBErX9Dj+9MBd36DnBMg5tE3BnWowDmaES7Ksa0vMcI5cfOmdZMX9wORWHaFPEuTz3AIUGXuY/hBL6ISpRzQX2IGB7hlYEwOZOMipm10PUg+ZuMh0gogsDE/DkkaWTRKHcOqjJGYZ++ENXmsHv73LdJRjPs7BtEHUP8B5eJeJ1H1WXgHiCku/itV4j9P4jal+xEaWIC5D+BEltKtojzsMG38yfNzFbP1FbJywihsMK29pHHxPv7TFoPyauXsOyTULt4p+/gta4SeM2lv8xh5h75CNf4ESmRXMxh+IwRETLYffP2TmFiF9wqjv0qn8itByxFaBxCqwDmusJ1eY+R9xy1uEzQ8k7X1m/WM2bgnFezqlvv8dsncIcY1NUGEdlNkkTUIjj6/l8PpHBKMTVrIMUY2lvEatbmeHEqdIahdJrSLrsIJi14/5vPctammLpSizCSusnxfTJ+yHPTrFn9Eq26TOGevgkk1UYxXcoN+9z74KRycI9ZBI/zvb/QcYk6pYw3yjaQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"톰캣 index.jsp\"\n        title=\"톰캣 index.jsp\"\n        src=\"/static/d0b1c5f846d4c402d908129a7d865bec/37523/tomcat.png\"\n        srcset=\"/static/d0b1c5f846d4c402d908129a7d865bec/e9ff0/tomcat.png 180w,\n/static/d0b1c5f846d4c402d908129a7d865bec/f21e7/tomcat.png 360w,\n/static/d0b1c5f846d4c402d908129a7d865bec/37523/tomcat.png 720w,\n/static/d0b1c5f846d4c402d908129a7d865bec/302a4/tomcat.png 1080w,\n/static/d0b1c5f846d4c402d908129a7d865bec/07a9c/tomcat.png 1440w,\n/static/d0b1c5f846d4c402d908129a7d865bec/6297e/tomcat.png 2044w\"\n        sizes=\"(max-width: 720px) 100vw, 720px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n위와 같은 화면이 보인다면 성공적으로 톰캣이 설치가 된 것이다.</p>\n<h2 id=\"마치면서\" style=\"position:relative;\"><a href=\"#%EB%A7%88%EC%B9%98%EB%A9%B4%EC%84%9C\" aria-label=\"마치면서 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>마치면서</h2>\n<p>다음 글은 Nginx와 Tomcat을 연동하는 것으로 마무리로 Linux상에서 Java 환경을 구축하는 시리즈를 마무리를 짓기로 하겠다.</p>","frontmatter":{"date":"July 04, 2018","title":"리눅스(CentOS7)에서 자바 개발환경 구축하기 - 톰캣 설치 및 환경설정","categories":"인프라","author":"개발한입","emoji":"🧢"},"fields":{"slug":"/install-tomcat-on-centos/"}},"site":{"siteMetadata":{"siteUrl":"https://brewagebear.github.io","comments":{"utterances":{"repo":"brewagebear/blog-comments"}}}}},"pageContext":{"slug":"/install-jdk-on-centos/","nextSlug":"","prevSlug":"/install-tomcat-on-centos/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}